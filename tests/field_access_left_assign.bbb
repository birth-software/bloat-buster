S = struct
{
    a: u32,
    b: u32,
}

require = fn (ok: u1) void
{
    if (!ok) #trap();
}

[export] main = fn [cc(c)] () s32
{
    >s: S = {
        .a = 2,
        .b = 3,
    };

    s.a = s.b + 1;
    s.b = s.a + 2;
    require(s.a == 4);
    require(s.b == 6);
    return 0;
}
