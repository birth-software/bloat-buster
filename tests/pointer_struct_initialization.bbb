require = fn (ok: u1) void
{
    if (!ok) #trap();
}

S = struct
{
    a: u16,
    b: u8,
    c: u8,
    d: u32,
}

[export] main = fn [cc(c)] () s32
{
    >s: S = zero;

    >p_s = &s;
    p_s.& = {
        .a = 1,
        .b = 2,
        .c = 3,
        .d = 4,
    };

    require(s.a == 1);
    require(s.b == 2);
    require(s.c == 3);
    require(s.d == 4);

    return 0;
}
